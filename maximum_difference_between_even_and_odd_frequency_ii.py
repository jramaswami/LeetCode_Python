"""
LeetCode
3445. Maximum Difference Between Even and Odd Frequency II
June 2025 Challenge
jramaswami
"""


class Solution:
    def maxDifference(self, s: str, k: int) -> int:

        def is_odd_freq(x):
            return x % 2 == 1

        def is_even_freq(x):
            return x > 0 and x % 2 == 0

        # There are only five characters
        chars = ['0', '1', '2', '3', '4', '5']
        soln = -pow(10, 10)
        for odd_char in chars:
            for even_char in chars:
                if odd_char == even_char:
                    continue
                for start in range(0, len(s)):
                    odd_char_freq = even_char_freq = 0
                    for end in range(start, len(s)):
                        curr_char = s[end]
                        if curr_char == odd_char:
                            odd_char_freq += 1
                        elif curr_char == even_char:
                            even_char_freq += 1
                        if end - start + 1 >= k and is_odd_freq(odd_char_freq) and is_even_freq(even_char_freq):
                            soln = max(soln, odd_char_freq - even_char_freq)
        return soln


def test_1():
    s = "12233"
    k = 4
    expected = -1
    assert Solution().maxDifference(s, k) == expected


def test_2():
    s = "1122211"
    k = 3
    expected = 1
    assert Solution().maxDifference(s, k) == expected


def test_3():
    s = "110"
    k = 3
    expected = -1
    assert Solution().maxDifference(s, k) == expected


def test_4():
    s = "2421"
    k = 1
    expected = -1
    assert Solution().maxDifference(s, k) == expected


def test_5():
    "TLE"
    s = "2424012414103343141304312322423122324113301042032142123334332030321414003440404412312021401232100143314200303102421001034014124014431110044004302120030413143120004323303414032302143303143143224243410422113231324114304241231223222322033034030011332014231023332223431112404322424104024021133134021221041103023314111201313103243003122213320220310441412041143231040241132021012413340441434422240220432131323121034022311421144013022303332043423320022142401444043412412101023133430240304201100142402211102411400043224444032302030413141034314331133430102241114212001021222321020430141314133302041414201202043223400014114020420120024430111120301422243034124020243001130132211332400100014044433411243412033023100103121443330013400420301002013000342333202343212431300341301301023131221100133410210302103342400301200023242113242434242022222344132332310032124041112143432300014242224343400402044022402300242234200422142423023120121113404430413402014034201041431431002302141041334334320103420123121131323233141042240113143113213144041022301332431011120444234402241000012221430040434442422142033344342124410333214101332442104222002143440023132330223431400122100323414244444313223233010211323322314022404000001102113440032122020031210410344010423021202110021133004243102112401334013330022200123310000300240431131411130220311142430341400332311141341013012320144034322032311042314321220014244141341323140242403303231031132222424312443013001313232341040040340331200342323441400240013434204311311144332012243240231201312240340334312002143020011004223431131321423430131340104214023422301332334244232041112441113324430310330143013034023200224112312032224301200303411201323022024334211342204412303223122342114431304340332333140222041104242423143001010103232100332431314410143114231014244212020011330314012020342424431412141311320330320212324120223243224214022142042043211223213333403113000031044113244013042230324414234100243013003112014042213034224334002142010400342324320441433213030404323342031301204324213241002121102033432302042043440214340033421014320042041424422011412022403442240114320410021230231101233202122230113230400232240332202300013020314020314243022432324223431201111402012400144333001301320324123120300401303121222024410304442004130442000020423121101122413402112431343040422141331023113142040113204141321310120231013414403203221012401221022334101210040303124031311132032304200044441044222040442442202412444324212003244032300212323440202143333033242403234000320234113040204300311121232112423422412010134203003130430112432334442123230141412142224441133240213132132404301411013112002303242213330110031212433421411001231001004001420010023312422222110312"
    k = 1742
    expected = 75
    assert Solution().maxDifference(s, k) == expected