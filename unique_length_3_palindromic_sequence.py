"""
LeetCode
1930. Unique Length-3 Palindromic Subsequences
November 2023 Challenge
jramaswami

There are only two ways to make a palindrome of length three:
a a a
a b a
"""


import functools


class Solution:
    def countPalindromicSubsequence(self, s: str) -> int:
        curr_queue = set([""])
        solns = set()
        for i, c in enumerate(s):
            next_queue = set()
            for t in curr_queue:
                # Do not choose this one.
                next_queue.add(t)
                # Choose this one.
                u = t + c
                if len(u) == 3:
                    if (u[0] == u[1] and u[1] == u[2]) or (u[0] == u[2]):
                        solns.add(u)
                else:
                    next_queue.add(u)
            curr_queue, next_queue = next_queue, set()
        return len(solns)


def test_1():
    s = "aabcaa"
    expected = 3
    assert Solution().countPalindromicSubsequence(s) == expected


def test_2():
    s = "adc"
    expected = 0
    assert Solution().countPalindromicSubsequence(s) == expected


def test_3():
    s = "bbcbaba"
    expected = 4
    assert Solution().countPalindromicSubsequence(s) == expected


def test_4():
    "TLE"
    s = "rtldympcheqnzvxcrlhkxzbcfxmekddlbhgturxsdvxjrnbslqsjppmjtnkhmozijcnoqfvhfjfwtehwcsbsjsttheyghghkxntpfipksjtzfkdmoqvgmwkqrmalzgcaejnjfactsmozdxlscyfdfpcwaxezbjfyflboxekmvmhbtbeqxrvcqzzlywngpdqlqvsrmgjvuchjintajzyhggklhcvxhpjwmjgvlruriaipefztiktdfqykzfsqpxigvfiatwmjiwusttewxyamubtpxcccnszupsbqnmhjpxjsoztvpxronetiiuxqlgbyvfppixvbwsezvmqwidsdgcbhdrcqctjfpnbujqzqhfewuermixdpcsitobohkflcrltzstptehlnjjlkplirvgacrbfabtoppcwggftqygrbikfjijfafniikvwbcepqsatbmyhcywvjdorfoljqzjemlzrozeqwtlfsdilnlwbiuujzbbyoslfuxiehcdqnpnfvdgnfhtdrxdzygeiryumduhozggbifvwqobiunbmeidowhfysnefvudcfrnwufdbnsztjkhzbnllqyfuohqbbvegqawbtfruqzsjjjfjsuqgyyonldzafejukiopajqafcliwciiwlyeykdeuynktmffccpsstyxzewzubfnynnnvmmbapbpyqtayqzjmcplwoosxzbodacxgyluyboyfmpulrqqtbjnqeihnnnomfemwfnmwyettdfzpycokuwnsecwgjlnlejpmeodunkrqrpabtxfnaeyoxqhtfelvuiosutbfuebdfprwbsunvztckojvzgpvdbzeuqfydooscrehdyzishokruttjpsffwhgqmgmmkqefeppjhgbludylatmkjyofuygcuhbvlekoyrckdrtmzziblvmzyddscinmlbkwmrwlvwjrupbtwqsjihgyodlhiuyuoyeyhchjhwwumiujfoxdzlpjkjdpzlfaihzfktzpmzumaoxtyzloftrshplmtlwtvxzhatsizruuksummooofvllkleqafwcgbbyuwictdxwizaamwhedhbkpyraqbdfbkoenkpiijvdawnyljpszvuyabwhlthtbcjhxnxnwbettremitxqhloazjleceiidmqnkmqwezwsoosnuoyvlmpmxiyptmqofqmspvouechbrvwzwvrqgkpiadnfldbvwgrdvghrcarvioklukgochiswxywortzggucbswqbzfycrlaqhujhgoxcxjzighzvsipdhcnzrpyyxukxhwansxdvoenhuefwyqqiqqcyhxanywtbtamhsvobzarctwrtdnwbjthwsrqtpryratptvahdcwyibepqpsxjgrlojxpvhdjxsddokusipabqfjyhcfhdcfkcsshalzdeqnlpcleyvargvikzlyjepavdpbplxndflyvafhubwblhawojjfkwgfyzvyinulnmfzmlwheipmnludbvijddknzyefczvuzkxqysuxdmzxtutesgcezuxwpudbqswfcxhjhkilcplcyfrwjrxdyeuipldfbfsfcyhixnxmqcejmfafgzjhuebmpwbhmjzvkjbvmaswukegforhyicptrpvpdbkzccewxuxcokzaobrwlcccdpulgqwgcjdtevldokftablrzqdfuaukhnoyjpryclvopcsosoqydeatasrfzvfzimjpjgayivdlxaqhzuxlckdpxvxnuuxhybzjwypxhjvjjjlqhonuabfqgvpzvavywgezufzyfyahzmwueuwabrmhqbtjmsjlevhklkhxdcipzmeqabnmefpyxrnonzljdnzzaholrfgxxaqfjqmmpenwkzytzohijqkxxwpsnmzymzfjwuhvzeryjiteblkefsqieobbcmkukxwqsdkqxqltoilqmxjouutyaluwgdkibdiompwxgybvcpybhwlulthvrmveuvbjfoewjtrxctrsmtmunkowlgotdfdmvcmpjetlyafqicpxurcxkycbmzcrwdalwjemgsdtbjrfnnipozmqphjtmlsnnomdsokeufzwbmowmbrefngyorlmlonkgmotohplqntbycmrfivuvcpavzqtdvcidkpxhceosobtnxpwtqvcdxirlvzthybskwbycgnpyspzmknnpuufmiqrftxdtjugmaqyrxlfikbfxaihcjfzbtwluvdmjfivqmxnnouthfgvdrgqexowvfuxdzzyvvbfgvfcplpqvimzzrkjeydemklogfvlmdfmkowvfestugrrsolqjorckhnmsatuwxslyddqjbgdxwsjdusdwsnjydbdhdfcarvgwbngfcuriyusajrgpkixjsjmcsrenjzoxnsgusmzldpnhaouarpwerzaoqgjpzaczpqeneejojtatuybfzogndtiszzokqssefupxrkbahknjdhuqbkeyuwtibcciopwbvjyjlycdmacyyluzkdpthmmpvdhoxetgdouwkrpdmljzfjkdscdvyzdvcrnetqfttmltddhhneyyvngjsvcoumagwtjnoehkfxebqgawbwrgofqcxqxrssbqdmnileqqbmhufaztzvkelxpyzqnynjrkdkgikquwngbmwlhpyzfsgomsvvmqoqbjrjbwqojvmkwfkefobwbzzojvyhxjrbisxraiimomhkdpdhkixqzmykrcxzegqktttcwqhmnpjufkuwftznxvvodnjzcoplgxvastvnempuqexnfauszcyeepxftzppsybxjtwemmajvxxxcnuqpdxmkipixftqjlhbcrogjgykfvlcrrzcnkeimkmypmeybzdgxrltecdifqclxebpbdqxhzjuctmgdgnfpiigjwufssunhyqqipfxtodwbznangruphljefmgoerpevkxzfmrqwkcfvytjmkoyebtcvguzwptzagovpeucukivyetvzecghgpnvmwdcdobmtxabdecdzqaugtizjztgvsydmhcmuptlhbmlyztccujsjfcaoqpxorplsoefkhestagghvveflvpusydrkiupqyblnijplpgmcmqsuvxjidligslamoerdcldnropreaxqbwtnuyloezipnqrqnunioqsonpjxdlnyvrxsigjtbvjmbfqyqxenbkgfaxcsbrfnkbwkujqquiogvftvhakxgtdjcltddwsppjbjgsxjsdqtowkmqidjnzxumuwvgqrrydvmyocxbedvadutuyiuwqlzzvibupgrlyiqdzgelzegxxeioebyjhjzieufejutzcsoheamevmzqblqbdzrdvrplxjvitjpqvmmfqeeeahoiczcannqdwlptawlnnfiinwjfcwldwcqxskzcyybgvwcbqhxtepbpmobegpyfqumdpjzpvdfyanfwgznngeqkhyrkfaphmaobcjfqebksugyzajdkmivyhijidlcghimxsaxpecbnfonzrxogbtklfzvvhrnbaddspyiyewcjtufkuasyyscvxphhvdwtcfgpazaedlihotvrjmiwrqkfxeiadwylnsmrtsdkmzhnfhwmlndimnufuamvrcwebtbftqdxtjtwskfuwdnagvgpxulppsotaxtinndxqwandbygfyocbbayqjzigbrahkovpvqqsskgjxebnuasiphglhmneiukancybpnvwezskpsovagvxghtwdgysunwuvuhjpkncjehqhfxdulflojsbpbbghsowmeeqmeoynynvoxiyjswlheypyspkqpeaymrlncnorezpfkzjciigtkyprfpqccywucaoacwrqbqafmrhhawzoecvlbhhdrymrgbmegtldyssvuxrqtaxnppnmzdyucwlpmzsnlmiyvschukproglpkduuaslzygtpbtwumshdxpfrsiymkmjiudxnjuivlmcnbgybeatzqkhwfsqinndanooqrztriuvgehzbbmubiwouglxypupwapezywaponswjmhcjzueehaoyrcpdscmlgejpcwugjizlgzfdvupfssbzwmnfjragcanicvzryetoblscndynbkmsohxlxefkvxaltfzeogktyuydhktfnghllchqjnllnzpqhfcehrjoaqrkedxbocbximnilsugaueamtdfodlckkmmhnohowmrqnqsufbegjxwyavhcdioajrtclycgpxscfrymwxxeblvzlxhwrqbecnturtdytwzenwslvewxyzzrybylogvqpbugonobtgknwkpcnsrosmjdegxlctodujfkllfwihmiyndixermxwoiilrzbboojhqnajllbkwimieeyzkxznztdxbvzsbkbfpdnrurtfomdqtuuhggwauocubxyqczyzrqdhvubledwywgncbadtturgbngerygyieyniryrxxolsplegvlholwqyhcwljxtwpulmjkywtdxfitbupdmjmwuxmraugxgjiachoufhlpfnzrlhcblufkwlaklxtlqtdngbeuxfqvagbvqrabwdwgwrwlysawzkbjjmotlfafcwtjrnlkljgcrqdmjipznqfouswzwcfjhhiwrkzeyzsbvwbtvnpmrtnytljuafzjyyppdnbxwlcbtoskfckujfluicxnacpnrfdehhdvqgndzmjzsiiqzwhtzqlcqykyvadflkxqqzssghqudmrdrzaeavmjpdvhfmabpkqyuwfbcqhwbgcmkfbpkybqzbojxnkzmkcyoieqflzpeksygngydfqqemztzhzkeyfjqzridvvllwwmkxubxwtzwjtxoqqgotbzhytgmonyukabxqvvyyytpboqycpeziydunburkkatdxrfnmksjtagfpxxrczlpmvhkhrsmebmnxeystobuxnznrpfllxqaxuibsnsmwpvlbjxdbnqpujamofovrrztpyccpsxxfzvetenmxaipftxllzcnogjiwcacypkeyufendjgdgdhxeqnuzlighjzlztxtcmilnvxxjgdtxcpdcshuynlrmnivmgvajzfvjqvzadewcwazuxhqnqqhkjuzuwmnyhvtslmiolqiktkuvhvmolftclilwgysvfvvhwwrwfgvfpovcrnuxrmptgljgisuqhudwmxarqtczptwbomtbsicguliwosyptjwtsaoszmgyjtswenzhtsodyoytixamdlmajzkjfqgycvrchrmfsgdzxxtgnyawrkormwmojcoyqyuzjrvrayticlwwllxbutqeraavuoocepeekvisguwnxxyatddqggkuuiturjrgontahfpdhjsdzpgtmxpcxtlvgkxfndlsssdvxxhzjkmyyroalajdriepdfotgdwszvytflwopurnsfxodrjvocwebhjfrpadfchvrixyputlnufhvwkkbwvrygenfknokrjqclkhzesxwirbgwpojjbyzqwkjnymdjooowroboyoalcqredjviooexfmczrsrkcmlxkcnjmvhdwawmbjwwjxhvixyzieslgbwylupbbzvohqmyzxobnasupkfuqhgidecmrgccykvtmzoxycftfrxszqyjbpyufmdsjbsdvilbzpkjdnelludbarconohsvloenvacqgkeokxkrlyvauvryyvjtwbdxjjnveizlncricbasekitjjxlaoeogsvrqsnfavwzmsvltwwkhbevqjwbyzpdcktznwlqerqjkvbawbnshqerqwynswynwifmysibwzdhixjswmmompzwfsynopwacjqtkurgpoebpxpliiejesylswbizsnombwmwddnypfybyiywstpmkrgdtebxuvqjdqnftaouaigjgiohyrdhzmmuenkzjtajdhxhhqhhgjefhbjzugqujzuneqqiqhixrnvqiehjstiwmaexhbzctftiznafmycunlicjsjotoxyyzmnuojtidrgoityqrrcewrtjopiiktyhxccxygiycmlxvmweqeeiuhgpgqzlovmaqrowjdspdlcoiywdwbjruseklmavxkuepjunupbcdclvwlhwucrfglanodwmnmngvufgpcwbstrucwciaymhwwqnjygacsrurwnwcvlwevpcthgzgkuasyvqfzoaubqkxlxqvjwgyinucbadzjijxwzwmeigjvhazfzthppxehurtecumijtvanoplfpdkanchoqnuahuzupuvlcnnqqxpnzqejpzaonxirijcrprejiinxdzonounxtgsctbmrrefkeoxzsaufglzvjosnnyunjurikhntbsrfujpnaqgrvkwosbkzqdlwyftfogtbrrkqqmshesxdpebawxkhjmvyiznfjvwnuxhpaxwgwdekfwebomfgpdltvlhnwoqwomhfuklpybelathegotwtqmbusctyoownmgdnigfwntsbrcsytyhjkurgszmlgbcuueydgvsanhvinsolnyhlstrlibiinqbifimpmiorovpxhebhurpefyusdxayzzwmonpvxnsxkxmrgowposajqoiabczhrjehibpndpqjjxhkvpvztculmvkxalaysduvwjvxennqmdinjqnohqltiphskpelylpmxiyxarjqmqvhjwrvmyffsnfvvbiufscxgzmhzzhppfdshpwaayoahnbpxklsneoseiqqwyudszhevpwxpvycezuhaenoxqrzniiiniycatuhgvywazeoyzwmhnkqbbkxnfmgwxyfgeqbqhmflcyisdpirogzfhutrtsjgyjlhktjucbsbfskggyxwnbyxegjtrqrbjsapfuhflrztfmxuqirjcqymbticctfngfyskbvfrwtqojxriyqljuqovaycbciaeiopsbeaornmxpobzhkhqvltobotkfjqledurscozemyvtsvcruesccsoznfxfhdkggvtcmvjcrzgffwkxleznrtppuadvziohvlucaltonkorozdhbyhwfnowiqxmzwflslmuvqcywrqwfugjbovmzzwzezdhjuvqwfyxsjopkoffehctqghlrgrulxwmtohnqhzgzauntoibjhvfsjjeyurbjxizctplzrojazqkijckloubmlwtdoeuyvjvbraebybldagrwtujjlpkotpjfekkhxpybucbyndccmhrvplkjgrjmqelvjtmgqeumgdnpakhwyqhfihoometbosrmmmbcigdozdjspkqdembwmtqglamhitkihyoabrmpfiuewsjebkwbxzvokswccllkgehzxonxwfwbsdssmekeindxzsoazcpnjwjbwjqcyholxrcxggmacfzeahhfnducbmxswbmjmxzzmefqklvpkddzvnviypswqfpmelwmmvexqogrsncjmjlfnktxoqcfikkidnlifguuolbzxirwnqtrtowuhnopwzfdmihaijbuqtyhfuoqiigodsmpztnyydcsiwivpxxuvjryksvvprdxxbnbagoculxeqbvcfdbrdsptvstgyeezqhmgofckfijtuaxqnjacexqtmacsdxynghrrggjfjritdoremvtpgcpytuccntuvmwgskmqsuqekvyyxnvzkycuggeckxosprbozmvqdypysluhhyrgmtxdvyrfucjaksqrqahkxetivdiyretzsuxadqnshepcszwamegxhkfemosthufilrojsdjyhpuonkztbsogpcuhrswlcxhixbbjyzmiynjqgjxryljkbpcpltgueenfwbqfrsrukoylbgrtgloikxovvaoawbuswkcqjmgbccgosawuvcbwuknutlpsclsjgyzdvcefnqgheyczghbvipizkrkjhxdcquqxlhuqxzpgyndaugaaxgyahldmftmyfqlismqipnxitqdlgvkljfleivgdufjkaubhpgqocxhpxlyozshjnrxtgqfcjmiaftzypnoejeqmtkznrztypkefgzczveizwhgqaldcbvdepxkyloskdpsgbfkyfimtmntumwclxkcusesvcbopahnbqkwaklaebcljrtqztglfbcabgtnpfbcvijpxfutedlvbxamvsvrkyhsaiuuhdqjebwivieofklnjozqvgualqclxilqiejanujslynxibuysehlymvbotfpfwvlowlwahjggicxnknferzqhzdfmhicsblmqgdfcniaudmyrsykmieidvhpdlsuwbdrajvxtlqbcacvhzaebkomculjnpmsuvevursfprnkjecgznkkvavitxzuwjbbkfqaitcpnzoxktmeektbgdjcteorvowqrcmwriddnvhujyvlzjrvvyjtvyewgujikhppyqrnleowedbxdijdhrcwdosnnrzcakwkrichuklvdxwirpzjffgplcpirudjxseyhlrjrnmfzoetlbxfskwvtqnktahyxbxzlenhzalskwrralyebsxnfxvtiobxsbuqnjfkatfhawfmafouihqgwqtpfmqkznikntzqerkhmgtccagewybctqgnjgabdfatjsnhgshqssjuwaxlyjeigzdxfbutwsejxwkraosozjquqkobrlhalnidvoqfktchblwivhowpcjmqsmeupbfjxrlymqbqtqfpjpsczvgnkoowospgogbbmvkrpzrevgcpcqrewpcfwyithqajszwbndxwftjuagsnhtsfsmzjxyuiqtqrijhikkaescrwcclznhfwmiszovunbekgqfqkctxabpkhfpinaowcymhtmtegayzvpklqbvlniqhhcmtblecfjdmpcyunzxuukuhvoldhbbwdtdjpcfesrchlsovbozxcznnycbxgadkujdgqndrfkfcrqzofcqcxvyrpoaimxxynkvpmkntbeccsfrdkfcpfmkmohqpyvjxigiddtmtquurhtuwqpymalusybthzcgbqmxekckgimkjhwficfgpqyzjqhjdtqleqhmwcplcbwtqwuwwnvkzakvlfgsytpyqylvcwlbmratczoahbwvyaneqszffiwphaoqegioimqwbswutnyjgpheouetboxffysmboewwjoplynqlipxermkrgwshaimnnorxhasybrqlibbqbjzpbxynafoxwbbmhzzyekeqtfwrmtxxjojqwemlayohiapjpknnmcgjarrzgfkxnqbsexplxeceryylnfloaxnlbrdrixdxwgsikhotjajwnjqxgwuqeixuupuspzfcdqwdujgtaaxlkjvyvbhiyhqvnkhnvvygxsdwiagbhewowihdnrpufitfzqpkhahcizvfibqhlkzxaocgyrfasevpojzblescopliyjkgdosynoixspxtxuspwdynqfdnjrujlfcqogmvupjocxsakjjxauizfkklynitgdgruqueymaqpucebyhajhkgtpowpxcwmgbcmbekfgyehylgcuxcokqclchjqubzgunjjlwywhzuxnqfgbsvhtbssuvcvfqrvkfppansrnhpaftryjcuriqcrmlnrwrygaojrnghddnmchcdnmkxueygsdznhdxjnqrbsziynadwgzdlwldnnelkivqnlwuvtnehmeyxlsdrbnztvnyhqwxaqdtocohbksokqphormrpsoijbvqwagbcrfnduzoyomfpppmldasnvcvvmacxuwnemvvjwxxmqhuiioctkboxaozfjojfihlvpuufmdomaipxkyadojdtwnbxvubbdiogrxvjcajkmtdnncnykuunsecepkqmewgwgeblhehiwbhlgxuyxrkicvsmrynflwzjewoslrggqgookgmhbtfgwsevuztpqogftsmapkevwmjdgmgdzbrlkllkxmuashbdtuqinjdgodsolohqaomncfsbyugkcptqrgxpekdulmgxmbqgxcubvdsgtogunkvbqibvgfpdvrrippeyftmjesywjjxjtyddquhvkjjynfjysbctbckxaudijebqhdramstwoabwhljhvbkkhudykzzdxeewjevndoqltzxuimzqvpvknpzhntlhliujynmceqzrwdcdqtlmsupxjrbvemyyltvqxfausdnznaiwgflrmfehlpgctdkgghiamgwmmsaimeijreypuopkktoalfamzzcwtrgvwfexcozkvzqhuevmpziodptnmymxtlpzovoxpqfgexxpcxqaldyrrqwlpcyacwdwfivapcajjaitvfnkhtactdrogvoqakjhhtwblwocdeuqeclgtbftpgezpaihubeljjwpfstizpdqssyvuzmzjjcgkirgwkdaqvocvwdjituabbhimylhfgtdkddooyyonyntwftubulheqgzdbbpsusdgwcspuuhedhobgawyolferslfmblzoerayxxczvtjbxvivjrcpkcmkuuwwlhqlurgkhusntyhtabcybhvayywtxmeucloprchlnhkyofoyrwrbxhirzwsjegcuohdvtyjuyievoawzezeivuxexgzccexfdylxlomwywqogeyaompynhtjhssankgqunbnfxdollurwmvomyicdlvwnduvljziufbqijimodnypzkyzsqjjqpiltbqcmdtdsgijwcmexyzzprbvziepwlwhbcywrurbmbhutbsklcoudsnfimtvwfjckpnavqvhzfrxjpitejarngdudpkdhphvljeqkdkixbtddxbaogmbvcufcbvgtbflfikuxzwcefwglogognjgbwcwmqapbuxengirnzxxzxgaworpynrakqfgmvrkiwpbffcmawzhdldddzkyvpigoolqfanyjclplffkxzuljusklbyzmxtccleuufcstmaarmyjtrspwhmvyvqreeplvtvwmpzxvkisbekyjwjnabzqhdrphnusdernfhsasaeuvlfacbwhiztggompjdksexjikpxgnfcstgejajtfufqngwnalrqhjnifbytevnrcbphjeozowmurfbmshchqtlpuwkgefwxcbkhaelrgzbpnubceurusoxdrjtxcqqgaasbppjsvwdlkzyfrwfblcmjzyudkmbadsqqblyogplwugltqqtapnlaazugbhpemybosprzpxbditiykkrpcmfxyjhlpypcnzcjogmrbeeocwwrprxutmxkbsdhezutrsdaremklgxdtargwakdkgqecztktrgtqnhgciyhkvqlhjccbcchnqsxoicjgawuuzmxcozpewkjdkjazhtbrskrvslahlkthjdobnfdgwugixgnbqprkcdbikkcvyhoqdpmegosqeccpvyokpjypnltkmnvapliuybtyzposumgtfopinrzgixhmstxmcivpvgkkjinmtwzkjkvnksgjntpaqxzbwqufdftphcrtwqhaborsqtgozrzleatthfnjxaeonzpiiaebjzixljmapwcxokljkrxosbcxyxpnnzedrqwnbwagbavgxwyvempbgexhfvdvoyimrpvzdytfrflglauwicfpsqtiwrymnowggxedndhqrzcqsrszjzknevmgixpolkwnvimsudfbanyfxoaymneagxzewgdlonconuxbhiqbsxfnsvjkyikssrroojiwtkujkaazwfgiubzqtlzpghvsbyfgerwhoxenilmjivnskrokyvvljsjglpiljhjtmcjgtzqkgluiyrmdzwsdkxyauvapctmqkqhofdtrnjetfcovrwwzkhhalqnyqvbchxktcnxzoxwnboicukpaaiyrueoxpicmmfsesqwtzygnofjoxxtwngzkxjmlgoscgheymcwcselhbiqinyhajxepghuwdstorxvmgrfoorernbdekpsoxdnlovmdfwfzggpixzqzwlvyfywmcnnxkgwnkhrgubhpkubdwrjakaoffvetlxagtjgcleqldecparlbcxguookptjkpfoqekjiyfrtipsqmwshunqvvgcuiucxswoipopovagyotgsnvpzuduttnjownvhwxtuptuapctccyglydgywfnaxmaujwvgmvornlhbqbngtseaejhavgvsslgvrbtgujutamtvfgfhkrnhkxikxdrlyizbhrmxpwwtndrcqyhkixgdxkngqkcntmrxirtiextbdvdrqegmqkvyauilmajrtlcfyuxltxbpcdhjhkmbyymhypuhlhbjmeleiqkcxgfvoeacajkaiuytfkhsulereqdaejuhymikupklykijggpyrsaxbnymyvlamfpsfeufdhefsiuhreargncoeroyteuznxvjbetfbbkofqtmqdmhwpodtooqnsektshdzuwkmcaxnngopjpijrtffdxkioencbiwlilofkbkdtjiffxfhvbazgkkpgiuxnovvubsbqewjughkyjejwcpkimcgtxbhtqdaqaldsofjlktoofqsvphoiejkhmrwyxuxrpxxnabgdfhjssxsjxqhmvekdnxqqmfvpwkzpgkuxrrupmihhklumfbjzmfbtulwmlzlbgqphzsblfimfgrwmptalgedxrseaancaoobtirgsjxnjfqdgsoumzlvfsjiqxpcyolyiqstvamulpzrjpxefphxdajmkbaakapkmcnhugnfjzdxaithfbojopfoxeisktaiyeqqvowwizbzekhfvygaxrnsksfyerqjepvpfkinrqdrfclgrxacnmzlwzulbaizlfncrgxrslzsitcyugjmpqosfvxvyveyjyntqgrwcthzpepjlcritmuoicweeoqfilkajvzcwzbgonnklrknsmnkadtrplyqmzdyjmrefvcajqbicklsrxcydqlxvugqlprnumtuglkswsurooaxehocoftmqcsvaqleyehrcuhoalurvdkslppholgyevgcdstagovcdcgspikllmcgizrpouzjhwpdehirbtgkzjcnwtgsrprtdjjqzjqwewxutamtqqtpajbnykaptlaqufrnuaueyiddgqvlixfihlgezjhwjgsogtuhikoytrlolafnvaqxxxucaudvcyzcsiicjsddnmlaoqzsdtjaydvysrjiqctgkjxuyaqulhjupxdxwdwjrchgailugvwlveqhsqplauykltinvcncexpvfhirdyincttxormhvkycbagjdqcxakmdaqpnkrsxttgftmczycwpfxjffltolhosnmdjfwaweopqueidzivyvfvbkozmdzaxaswwexcbaewhdvstxltyryhsbsuudaceuhlakwctzocfkbytxncqcbdeblycdvrsheilcivebwnhomwfalfwfmmuhdyjzqsdeznftpgybkxzdhgklsdjuouaecxsjstaemwzynlrihsbzzjnixwumrjxhoytzrcmtjkpllxhqfhrthzlamaprovrhcmgpavjkbiqcyvsautyyoqbjkedsvvkzbfnqbibyknsudjcdfdcfabyvkzdqvbbjomzyszdmoxxcjktswaxdrncqbvhlmqrwxooswmhguuxmllejpwmqfcmexsngaeqnefavplxcrnglhzhuvwlhangklfvmvxiolehjeshdluefyveahyaibtgnzeuhjlhgjlfqakqztfvkogyhxeodaphcjddeonajwatzpsykmhbjeptudlayytdgihwknmjizrwxhmpzhmbkhhbjobnqibddxgorlfnhpbhjcdpydtrxthavkvjhewkkwfknqaewthbprgfleactoaieggcjnbprrocreynenxqtnbgxjyfnbpbbpskhjglszmgzfhubunztjqyuykradzgnbtydtnelrqyejzwdgdnhxobmqzbokjnybmfzhedznzdiiilqrzyktqqycxhtgzeungsqaivbyhhnxfartwsmuiieigdrxrxpoqydtafderjdhysmiksyfgbrdcehtvekrjrlbzahsseyolkkkdxnpiiyvfzwwfqojymoyhmamyydcsgvjznmwufvaoszukwobvwnnqlltftzxprbscsielwpvpaavzeiuhkzhrodhjuhaznncgdrheoammdhgaothefacxtbofvspbfehewofkgrdhyanzxyurouitzzdjosasvybtwfmblpcamguwppfeuljpjavudvhvaqmfazueadhxrsndxojbdlfmugvkzntjrnwplcqjaoutuzeueoheunxehefdfpqxbceoutggvlyfusdtfpwmalpeoqwdlehlrbixemznndgkgpgpbdotghwloiqzkzpxbqhjcddazmoqolrmcfkvfagwjezpnolijwurhemtuyodfocjfcgohfjxvbzwmrffmxxqrswhwiuajqkrovskghrsnxonipohuiyyyuompxunbjumrpsxspsydcdiwbyotvunrpuqwfwmgywqtonkweiwfradqcmlzuqpgqsqgfkdlmbftmrfwsqjobysthnzkfcqmhgwcygwbrbliztfdxtvbfsfkhkihjaalvywvdagptzwuipehbqczoveafirgjomnuqtlnxovdoxelzwqpeoogascpfytlngokmopdpsgduzcgzdwmddoanklnwnfqwntuhxkghqrtbgklqcgwxdykhzqeoygdslcyidxjmbyowbujxtidrqhgcokpjvnhajejdikbmennghjyoskaikmirlykuwtmpczpahenodwwkqnynmkfclrolgbwgkzrcckxwvrdbyipfvdseszntihvswkitmmzztnxqwzwudjgdkcprcxgtcxqrwhabessqsggnewzilruqtgzlwysxbryuscctuxskvsewkhtyxazhntewhotzziqybavjtytgrqwkikzkgbyaygmckknidruikzaweirbgyenblhhpklxozfqcfbsroqkeopvfkahkddolsnkaosvjdsyfnmemzzxvbzzixrwmeljcwtbdqekavcluzfgcwvqmtplztlzgloryqegibqmehercbzzqnxuvyaglssiftwnzcfyqruoxrqfhtjdxzulssatwmhceeqmcyywivdlvrxqhhpmunkpnaydkvocolzypskizuhjnsrwqkbmsngtdckggfzcolwbirmrzpphjgcyyuaknhumdyronvwzgwmonbcfvvvrqrbyecwjhnqejvdurreywquzmxhinltfdqfrhgunafotehpcjsizsahhifkuybklvxfkjixedcmkaevgltflbwubwlpcxhovlzyshlfhvvvdgjvfuqzrcvtcknnwlldenmtnxucdsshhnnbyphzhtwhsppqjgyejtagllldbxxbdyknovfwbcljlieasquebyfrhvioacfznjrkctbnvvmolwsgyvdwboxbaccsfwmikehbcrsstwfwmyrvepxxarhstorlcxyundurzcytaqocjycewlslxjjigrjjvavbsdjhmoadavmssseicxsnrehoiidtiwelcbgjslnogjcjejdjrpbnpsmownbhjruoefjjqapvgywofoqijdfhpbymdznwtsdnpxervokwcivgafklduvsfukkemphvyiujtqvmwaizawqrrlixqlflhirnbyjwrekxllnjpcdpvuiwrzjlkxucjmyoajflhxqpjvikzvbnhlkhzradxbigyhrvmosjohlkrosmoqfnmlirznmxolvawurmjjsugvqdmhffqzosaxncoshdyplifvrskrveuqzhnzqnlduzyeklgmraeokkrzwypcuhubhcdsixbbvysqgkgcwuriaphsiskqwsnbcabicxpkuljtzchscbvwxfxbqpjlrqsgifglfldaevqdrdkdquuhogdvgazgsjiyhhssdezxwbogjjpeouwsvjblbdstbgknrrkbwchvnnqoykcnjghruhfvncxbfmxmauroietjjhzkjjmqnfqhjlybzechhhxftepqmrqveojkzmbiwvcqphvkicddhfpmadjrywtxcwiotjsujkwwzbpwwmfldsljgeuelfqwvmvnqcyqetuzfifejjtobfxvfzrphufruesszdrzwmbjnmyqgqubjbrahsynsnpgzxrwagucpxbefvdqnmocusykikjmprvxeknwqqilvnkmbhpphkoeglvyyamwgyffnsgplupvfsxnjfcdagtuekhebdvxpplfrkoyqxsoyovaskipuecpkcsebhnrizzrffxgcsggourhkxyfxudwzzbxczrljzadukgdhykgpzskakembgnzycbxjkhvjrdazvarbjqhnecopfdheglnkbtbaqriaqvgqcxpjubowxmcsumntgyusrrwrifnenivgdiwomndzjunzbbvqqxljoxbldgoldysinlcauauqmtegpbdzslflpfrzthgcgepghsydvotrztaxyxtpgktkvnmwffpsmkxyzeffdefbxjsjsbxvbwoypbocywcawupdotwykiazobjwwfycrfqfjszdmtgokalnwyfvjuvgketvddimiiuizutyzlqebfbjjbzpmjrqbmjdcinklbeauoymgkqhsybhqkiyuibengmeftqevorlpncvufanqpqurqzmberetnhawvyzjyghlnyvgikbmnkxemnwsoxlpylcfaqguezkvxemkmffeoqaitnoobjwlwlsktakebpnszpdwjxikmwtnfrkxdewbtklofheisrkacjjkaexrwknfznflrwtvjuskkwnulblzjebgrdsxuqwoabxsgwcykoiofmqbknrrvexvwfymdknmkkyeabhruvxingugdwwxontqlimnlqxgnvukwcuixiiuiperxyuzgwomixjdafcnifekijqlnxzcijwtllujmdbmvzpqxyvetwxhkljjpceuoinrygiijtusfyokeibbfrvwfusjgoyojrvpyuxqrtedzxlezkbyuhiaeitwzpwznxxvgawxjxqftpyjofwusywziseenqycjtsxvvfapezraylzlzjjszjoidzuecmzwhlltuqpcfuhhfubbqpeuiptbnszwdqjgbfmoeryktdvncqnqossowfizqhhqpjfgbftmolxlykdavhhwhotnyllkbzgxwpkplqvbxuxciuctopfxsuitklmqrlzzntvcmhuqtmswhodmdgqxtlvrajjxexcfsbbvgvmrvgtmwyumgnkabuakfvqumrxruzubsdvdkwytuevqnpitijnuhnqlwzfwgfwfdguzzuacpofmqrqqtmyewdrtffojfcgvtgwzysicyfrmtqzbevpblgruijtxtukexarkppmjvbqpwpsweanbbeksccydqdorsyouryjmylugbistabrlyoyspvbetxoaqaquwiuhfsxzhoehehgqotyjpzjevucsdwthevlrjexuviofhtjpkjtwklkvsibyitwlhdzdsfhcrgwcdbxjbdqoeiutkzbmxzdhvuovvjqtzbniarzvpoyghpwjwpnevdhzchdvldyobqvofzfoalkeuwhfwxorkwqiyrltdbqpyagwpopowjeidsmwcexupiuqccuvnxidufreecamadxttisbzrcvtuwfxbztnjydmsezofdpznthcellbqbimefpjjxksktyffuigmthbpjscyrktqujcvjuibzisewlkpsqpkgvmtohquqfgkxzlmwusamndpfuvdkicdqincrgdvbyzoroulnazjyruuawgjxggkmyspdyhqsamdsgjedqfreupsohlgfckapvejzqtanusxczigtvvvrikgwqpcplzseecfydkfviaipyseuenlfakppwfulibzezxqztmkridwtmncjuujyandhsqrccpremdkkrwzvjeiyquzrlrzegoxfuizogaatutsjintivrhyqbnndfltsmrrawkemrcebmgdzblswdlkghdszybfytsnhqjrzdzfckigjstfeepzehtlrtccxotsvheaaxvilsfqwthgfroaljuidaqvhdteleorvadhgcohmquqyfcekhipixayhjdcqiompefuehdofkxazpyrrimanrxgkidkfogehvucbfffjkorhrlotdhariipuacxqsfbqpcuqotrpysijirpspbijibuwgoptwehfkqdjuiitjzdvvihcpjxnqpgzmewbexjkgbxfwydevwbwmoqasubouqvblyseaadhlusxgebzhluaprmrrcfistocldkfzcinauhzwvfmrmbqdvaziapnsekekivahdjfojulxylivmnjrthbzquvrmnfygracuegaibpnqkbtcgkthtzpzxkomhnlyjeuhiotnvnqgoycccbrmepgrrvxtspkswrgzldibeqssdkdoxgwtgeelurjzarzpovzfbpoprrttywszrsbmurckactpxtkphlesbizldaukvcolgxqfuwsuzadyilbmdoufnoyqoslopdmgwxqwntwtybpfaxzyhemdcvhgklmgzjxurwgbdrxdulwuksyxpjcyzkksqxfteafzanpuppuxmhtdnxqunwvrensecwdrmtckzntopvfmuevjzgyktxasxkvrtbhkwcbuzohqtoxjfovzumybxvpkcgvarpqfpntxgggdrpqkjjglijssxuwqffxrmqkdiiqgbrwsvhtfetnrfscapvquppzdqrppqrnpubrpgdzbcwssmrwmagrxunbwjxvgagiijavvglicalrbluuwhvdyxkpmohxzmjdpduhjnlpqcnbsthycmppdclgskmbbpjxewqnggulemdlffwjfasjdkaxhljxrxfitdezrcnuhupifduzhpfpgujafkxkcwdzfyebnqrkpbrompeuppbwjsuvmfwufyzqdeurgclsfcbwowbbitmvivbumwcltefiifchdxbdospjmnoxablavfiktfvouztuozbztonqmduijckeelhhmucxrdbrdmnisrcvrdfuzhjtwgxpttybhoxyrpcwfmetcyvfpccutnjquzszzowwusltvhizpszyeklwujqyahbushxjshyfvoueltuohsagvxbdkysocsmhnixtndsuvblogzjgdnuvkcblimtvjqlubrbfifezodjrkpixegylnfddymesbrybfelttdvgkfpaafitdhhgizzkqkscyaxawluqwcyfexgmjdhnzttnsulaqhgygtjhaqxefgrbtpyetsxnqdnwdbjajkclsjpvjkfdlnnyojcgaebgzwltghflwtgaewagazljpbwmsfvojmsotgwcerdwzcouysjddhukpyslsiibvwdasglrtceaxsgjmizlrolzrsmtlyceiktwnlnxpyjmejrmanixfutpzusqluurumlgkzhqwunltklifijufdalyejevxwppxxjxqbjprbsfmkylvaduyvqofxuskteanrxwjqocuepguwvlkkhjpiuossxjunusgucrhjmqwgcfjbsqgwyixkjlwlrwjkkjiwvrirnaivonajptphpkbrhgdakogstpnxugxugnbzrugzvgryhjpdoitsrrxlyrufykwrosucyrloaungzwhmhrjvyjkpertrxxiygmnvirykebnuynyoimeftiriwvjljpcptlmjmhqkyahaclaitdjbtfkfajhvtlzbcbicweslcnudzqqzwrroljsudnnrsaigwsvrl"
    expected = 676
    assert Solution().countPalindromicSubsequence(s) == expected